  <!doctype html>

<!-- Shaiheim Allen | 10/12/19 -->
<!-- NAME OF ADAPTOR | DATE AMENDED -->


<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">

<meta name="ad.size" content="width=320, height=50"> <!--Needs updating when using DCM as adserver-->

<script type="text/javascript">
    var clickTag = "http://www.google.com"; //URL only used for testing if DCM clicks through - this is overwritten in adsever
</script>

<!--update with brand and title as required-->

<title>Fitbit | Accessories Sale</title>

<!--remove following CDN links if not required to save extra http calls-->

<!-- <script type="text/javascript" src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>								Required only for DoubleClick Studio banners -->
<!-- <script type="text/javascript" src="https://secure-ds.serving-sys.com/BurstingScript/EBLoader.js"></script>			Required only for Sizmek banners -->
							<!--Required only for Flashtalking banners-->
<script src="https://cdn.flashtalking.com/frameworks/js/gsap/1.19.1/TweenMax.min.js"></script>
<!--<script src="https://s0.2mdn.net/ads/studio/cached_libs/tweenlite_1.20.0_3393be0dce31ad0098cf6549eaa28a6c_min.js"></script>-->
<!--<script src="https://s0.2mdn.net/ads/studio/cached_libs/cssplugin_1.20.0_35574bbb2cf06c392e9036c87b5a8474_min.js"></script>-->
<!--<script src="https://s0.2mdn.net/ads/studio/cached_libs/easepack_1.20.0_f9d13d59407792e37168747225359927_min.js"></script>--> <!--Only use TweenLite or TweenMax not both. TweenLite can be used for basic fadein/out copy arrow animation will need to be animated manualy as yoyo not allowed-->

<!--CSS begins-->

<style type="text/css">

@charset "UTF-8";
html, body, div, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
abbr, address, cite, code,
del, dfn, em, img, ins, kbd, q, samp,
small, strong, sub, sup, var,
b, i,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, figcaption, figure,
footer, header, hgroup, menu, nav, section, summary,
time, mark, audio, video {
	margin: 0px;
	padding: 0px;
	border: 0px;
	outline: 0px;
	font-size: 100%;
	vertical-align: baseline;
	background: transparent;
}
* { position: absolute; background-repeat:no-repeat; -webkit-backface-visibility: hidden; transition-property: opacity, transform; }
body { margin: 0px; overflow:hidden; background-color:#fff; font-kerning: none; text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;}
img { width: 100%; height: 100%; }
br { position:relative; }

.size { width: 100%; height: 100%; background-size: contain; overflow:hidden; }

.blue   { color: #002a3a; }
.lblue  { background-color: #00B0B9; }
.white  { color: #fff; }

.bold         { font-family: 'Proxima Nova Bold Italic'; }
.boldExtra    { font-family: 'Proxima Nova Extra Bold';  }

#border { box-sizing: border-box; border: 1px solid black; opacity: 1; }

#ad {
    top:0px;
	left:0px;
    width:320px;
	height:50px;
    color: #fafafa;
	cursor:pointer;
	overflow:hidden;
	visibility: hidden;
}

img {
	width: 320px;
	height: 50px;
	top: 0;
	left: 0;
}

#bg { width: 320px; height: 50px; background-color: #00a99d; }

</style>

<script type="text/javascript">

var server = 0;			//Select from the array below which adserver you require - Use DCM for locally served banner (no adserver)
var adServer = ["dcm","studio","sizmek","ft"];	//This template can work with DCM - 0, Studio - 1, Sizmek 2 or - Flashtalking - 3

var rollover = true; 	//make this true to have rollover effect
var legalID = "ad"		//name of the div id to target to activate rollover

var fadeTime = 1;
var flag1up = true;
var flag2up = true;

function init(){

        // Set Up Timeline
        fitbitTimeline = new TimelineMax();
		glowTimeline = new TimelineMax();

        // Set Up Elements
		fitbitTimeline.set( "#devices, #flag", { y:-50 } );
		fitbitTimeline.set( "#goflag1", { x:41/2, y:28/2 } );
		fitbitTimeline.set( "#goflag2", { x:-46/2, y:29/2 } );
		fitbitTimeline.set( "#go", { y:65 } );
		fitbitTimeline.set( "#swoosh1", { x:-60, y:44 } );
		fitbitTimeline.set( "#swoosh2", { x:60, y:44 } );
		fitbitTimeline.set( "#go, #goflag1, #goflag2, #copy1, #copy2, #cta_off, #cta_on" , { autoAlpha: 0} );

		// Animation
    	fitbitTimeline.addLabel( "frame1" )
    	.to( "#ad, #footer", .5, {y:'0%', x:'0%', autoAlpha: 1, ease:Sine.easeOut })
		.to( "#devices", .5, {y:0, ease:Sine.easeOut}, "+=0.5")
		.set( "#goflag1, #goflag2, #go", {autoAlpha:1})
    	.to( "#copy1", .5, {autoAlpha:1}, "+=.25")
		.to( "#swoosh1", .2, {x:0,y:0}, "+=.25")
		.to( "#swoosh2", .2, {x:0,y:0}, "+=.25")
		.to( "#goflag1", .2, { x:0, y:0 }, "+=.25")
		.to( "#goflag2", .2, { x:0, y:0, onStart:setFlapping  }, "-=.2")
		.to( "#go", .2, { y:0}, "+=.25")
		.to( "#flag", .5, {y:0, ease:Sine.easeOut})
		.to( "#copy1", .5, {autoAlpha:0, ease:Sine.easeOut}, "+=3")
		.to( "#copy2", .5, {autoAlpha:1, ease:Sine.easeOut}, "+=.5")
		.to( "#cta_off", .5, {autoAlpha:1, ease:Sine.easeOut, onStart:setRollovers}, "+=1")

	function mout(){
		TweenMax.to("#cta_on", .2,{autoAlpha:0})
		console.log("out");
	}

	function mover(){
		TweenMax.to("#cta_on", .2,{autoAlpha:1})
		console.log("out");
	}

	function setRollovers(){
		if(rollover){
			l = document.getElementById("legal");
			lID.addEventListener('mouseover', function(){
				//l.className += " up"
				mover();
			})
			lID.addEventListener('mouseleave', function(){
				//l.className = "legal pos size"
				mout();
			})
		}
	}

	function setFlapping(){
		setInterval(function(){
			flag1up = !flag1up;
			if (flag1up === false) document.getElementById("goflag1").src = "images/goflag1b.png";
			else document.getElementById("goflag1").src = "images/goflag1a.png";
		}, 1000);

		setTimeout(function(){ setInterval(function(){
			flag2up = !flag2up;
			if (flag2up === false) document.getElementById("goflag2").src = "images/goflag2b.png";
			else document.getElementById("goflag2").src = "images/goflag2a.png";
		}, 1000); }, 500);
	}
}

</script>

</head>

<body>
	<a href="#" onclick="javascript:click_tag()">
		<div id="ad">
      <div id="bg"></div>

			<img id="go" src="images/go.png"/>
			<img id="goflag1" src="images/goflag1a.png"/>
			<img id="goflag2" src="images/goflag2a.png"/>
			<img id="devices" src="images/devices.png"/>
			<img id="swoosh1" src="images/swoosh1.png"/>
			<img id="swoosh2" src="images/swoosh2.png"/>

			<img id="copy1" src="images/copy1.png"/>
			<img id="copy2" src="images/copy2.png"/>
			<img id="logo" src="images/logo.png"/>
			<img id="flag" src="images/flag.png"/>

			<img id="cta_off" src="images/cta_off.png"/>
			<img id="cta_on" src="images/cta_on.png"/>

        	<div id="border" class="size"></div>

        </div>
    </a>
</body>
</html>

<!-- Flashtalking Library -->
<script src="https://cdn.flashtalking.com/frameworks/js/api/2/10/html5API.js"></script>

<!--********************************DO NOT CHANGE ANY OF THE CODE BELOW THIS LINE********************************-->

<script type="text/javascript">

var y , x, z, s, r, t, d, e, ea, to, pan;

var transform = ["transform", "msTransform", "webkitTransform", "mozTransform", "oTransform"];
var transitionDuration = ["transition-duration", "-webkit-transition-duration", "-moz-transition-duration", "-o-transition-duration"];
var transformOrigin = ["transform-origin", "-webkit-transform-origin", "-moz-transform-origin", "-o-transform-origin", "-ms-transform-origin"];
var transformProperty = getSupportedPropertyName(transform);
var transformTime = getSupportedPropertyName(transitionDuration);
var transOrigin = getSupportedPropertyName(transformOrigin);

function getSupportedPropertyName(properties) {
	for (var i = 0; i < properties.length; i++) {
		if (typeof document.body.style[properties[i]] != "undefined") {
			return properties[i];
		}
	}
	return null;
}

/*this us used to disable pans in IE because they don't animate nicely*/

function detectIE() {
	var ua = window.navigator.userAgent;
	var answer;

	if(panIE){
		//console.log("can animate in IE");
		var msie = ua.indexOf('MSIE ');
		if (msie > 0) {
			// IE 10 or older => return version number
			//console.log("old IE");
			(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
			answer = true;
		}else{answer = false}

		var trident = ua.indexOf('Trident/');
		if (trident > 0) {
				//console.log("IE 11");
				// IE 11 => return version number
				var rv = ua.indexOf('rv:');
				//return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
			answer = true;
		}else{answer = false}
	}else{answer = false}

	if(useEdge){
		var edge = ua.indexOf('Edge/');
		if (edge > 0) {
			//console.log("use EDGE");
			// Edge (IE 12+) => return version number
			//return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
			answer = false;
		}
	}

	//console.log("hmm ",panRequired)

	/*if(answer&&panRequired||!answer&&!panIE){
		console.log("IE set to the end of pan")
		pan.style.left = x+'px';
	}*/

	return answer;
}

var element = document.querySelector('meta[name="ad.size"]');
var content = element && element.getAttribute("content");
var ad = document.getElementById("ad");
var lID
var cta_off_alpha = 0;
if(rollover){lID = document.getElementById(legalID)};
var str = content.split("=");
var str1 = str[1].split(",");

//console.log("ad meta data is",content," banner width ",ad.offsetWidth," banner height ",ad.offsetHeight);
if(str1[0]!=ad.offsetWidth||str[2]!=ad.offsetHeight){
	//console.error("meta data does not match banner size");
}

//console.log("Freedman master v2.5")


/**/

function panNow(){
	//console.log('pan now ',detectIE())

	if(!detectIE()){
		if(!detectIE()&&!panIE){
			setTimeout(function(){
				pan.style[transformTime] = t+"s";
				pan.style[transformProperty] = "translate3d("+x+"px, "+y+"px, "+z+"px)  rotate("+r+"deg) scale("+s+")";
				pan.style[transOrigin] = to;
				pan.style.transitionTimingFunction = ea[e];
			},d*1000);
		}
	};
}

window.onload = function(){
	switch(server){
		case 0 : init();
		break;
		case 1 : if (Enabler.isInitialized()){enablerInitHandler();} else {Enabler.addEventListener(studio.events.StudioEvent.INIT, enablerInitHandler);}
		break
		case 2 : if (!EB.isInitialized()){EB.addEventListener(EBG.EventName.EB_INITIALIZED, init);} else {init();}
		break
    case 3 :
        myFT.on('instantads', function(){
          myFT.applyClickTag(ad, 1, myFT.instantAds.clicktag); init();
        })
		break
	}

	// if(adServer){
	// 	if(dcm){init();console.log("DCM Banner - Make sure to remove the link to enabler!")}else{
	// 		console.log("DCS Banner")
	// 		if (Enabler.isInitialized()){
	// 			enablerInitHandler();
	// 		} else {
	// 			Enabler.addEventListener(studio.events.StudioEvent.INIT, enablerInitHandler);
	// 		}
	// 	}
	// }else{
	// 	console.log("Sizmek banner")
	// 	if (!EB.isInitialized()) {
	// 		EB.addEventListener(EBG.EventName.EB_INITIALIZED, init);
	// 	} else {
	// 		init();
	// 	}
	// }
}

function enablerInitHandler() {
  if (Enabler.isPageLoaded()) {
    pageLoadedHandler();
  } else {
    Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED, pageLoadedHandler);
  }
}

function pageLoadedHandler() {
	//console.log("polite loaded");
	init();
}

function click_tag(){
	switch(server){
		case 0 : window.open(window.clickTag);
		break;
		case 1 : Enabler.exit("clicktag");
		break
		case 2 : EB.clickthrough();
		break
		case 3 : FT.clickTag();
		break
	}

	// if(adServer){
	// 	if(dcm){
	// 		window.open(window.clickTag)
	// 		console.log('DCM clickThru')
	// 	}else{
	// 		Enabler.exit("clicktag");
	// 		console.log('DCS clickThru')
	// 	}
	// }else{
	// 	EB.clickthrough();
	// 	console.log('Sizmek clickThru')
	// }
}

</script>
